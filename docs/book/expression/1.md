## 10.1 SpEL与OGNL的使用

### 10.1.1 Spring Expression Language (SPEL)

**简介**：

Spring Expression Language (SPEL) 是一种强大的表达式语言，用于在运行时查询和操作对象图。它是Spring框架的一部分，用于在XML和注解驱动的配置中定义bean的属性值，以及在运行时查询和操作对象。

**特点**：

* 支持基础的表达式，如字符串连接、算术运算等。
* 支持方法调用和属性访问。
* 支持列表投影、选择和正则表达式。
* 可以与Spring的IoC容器集成，用于配置bean的属性。

**示例**：


```java
ExpressionParser parser = new SpelExpressionParser();

// 简单的算术运算
StandardEvaluationContext context = new StandardEvaluationContext();
int result = parser.parseExpression("2 + 3").getValue(context, Integer.class);
System.out.println(result); // 输出 5

// 访问对象的属性
Person person = new Person();
person.setName("John");
context.setVariable("person", person);
String name = parser.parseExpression("#person.name").getValue(context, String.class);
System.out.println(name); // 输出 John
```
### 10.1.2 Object-Graph Navigation Language (OGNL)

**简介**：

Object-Graph Navigation Language (OGNL) 是一种功能强大的表达式语言，用于获取和设置Java对象的属性。它最初是为Apache Struts框架设计的，但现在也被其他项目使用。

**特点**：

* 支持链式属性访问。
* 支持列表和映射的索引。
* 支持方法调用和静态方法调用。
* 支持Lambda表达式和自定义函数。

**示例**：


```java
OgnlContext context = (OgnlContext) Ognl.createDefaultContext(null);
context.setRoot(new Person());
context.getRoot().setName("Jane");

Object name = Ognl.getValue("#root.name", context, context.getRoot());
System.out.println(name); // 输出 Jane
```
### 总结

SPEL和OGNL都是用于在Java中操作对象图的强大表达式语言。它们各自具有不同的特点和用途，但都可以用于查询和设置对象的属性，执行方法调用等。选择使用哪种表达式语言取决于具体的应用场景和框架需求。