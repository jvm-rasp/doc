# attach 的常见问题


## 程序包com.sun.tools.attach不存在

## 不同jdk版本的attach返回结果不同

在jdk8，attach返回结果为，在jdk11 返回结果为 return 0:

使用低版本的 api 对高版本的 Java 进场发起注入时，

使用 jdk8 的api


## attach 失败


## java_pid文件丢失




## 文件权限问题



## 容器中pid为1的Java进程无法atatch

```text
com.sun.tools.attach.AttachNotSupportedException: Unable to get pid of LinuxThreads manager thread
    at sun.tools.attach.LinuxVirtualMachine.<init>(LinuxVirtualMachine.java:86)
    at sun.tools.attach.LinuxAttachProvider.attachVirtualMachine(LinuxAttachProvider.java:78)
    at com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:250)
```

